# MyBatis-Plus 的核心功能
1. 条件构造器：Wrapper<T>
2. 自定义SQL
3. Service接口


# 一、条件构造器 - Wrapper<T>
前面使用 MyBatis-Plus 的 BaseMapper 进行单表CRUD操作的 查询条件 都是根据 主键ID 进行的，MP也支持各种复杂的 where 条件。

BaseMapper 接收一个 条件构造器`Wrapper<T>`，通过 `Wrapper<T>`构建各种复杂的 where 条件。
Wrapper 的继承关系如：`笔记/img/02-MP核心功能/01-MP条件构造器继承关系.jpg`

- Wrapper 的使用说明：
    - `QueryWrapper` 和 `LambdaQueryWrapper` 通常用来构建 select、delete、update 的 where 条件部分；
    - `UpdateWrapper` 和 `LambdaUpdateWrapper` 通常只有在 set 语句比较特殊才使用;
    - 尽量使用 `LambdaQueryWrapper` 和 `LambdaUpdateWrapper` 避免实体类成员变量名硬编码；
    - Wrapper 支持链式编程；

- Wrapper的基本使用见：`src/test/.../WrapperTest.java`

```java
// 创建条件构造器
QueryWrapper<User> wrapper = new QueryWrapper<User>();
// 1、构建查询条件
wrapper.select("id","username","info","balance")   // 查询的字段 id, username, info, balance
        .like("username", "o")  // 查询条件1：名字带 o
        .ge("balance", 1000);   // 查询条件2：balance 

// 2、执行sql查询
List<User> list = userPlusMapper.selectList(wrapper);


// 如上所示，在 Java 代码中硬编码方式写死了数据库表的字段名，不够灵活优雅，容易出错。
// 可以代替为：Lambda 形式的 Wrapper
```

```java
 // 1、创建条件构造器
LambdaQueryWrapper<User> wrapper = new LambdaQueryWrapper<>();
// 通过 getter 函数来设置查询的字段，避免查询字段硬编码
// ⚠️：Lambda 形式中，需要写实体类的属性，直接敲 get 会自动匹配。
wrapper.select(User::getId, User::getUsername, User::getInfo, User::getBalance);

// 设置查询条件
wrapper.like(User::getUsername, "o");
wrapper.ge(User::getBalance, 1000);

// 2、执行sql查询
List<User> list = userPlusMapper.selectList(wrapper);
```
