# 一、拦截器 Interceptor
- 概念：是一种动态拦截方法调用的机制，类似于过滤器。`它是 Spring框架 中提供的，主要用来动态拦截控制器方法的执行`。
- 作用：拦截请求，在指定的方法调用前后，根据业务需要执行预先设定的代码。

## 1.1、Interceptor 快速入门
- 步骤1，定义拦截器，实现 `HandlerInterceptor` 接口，并实现其方法。
    代码实现：`DemoInterceptor.java`
```java
@Slf4j
@Component  // 由于 Interceptor 是 Spring 提供的，所以需要使用 @Component 注解交给 IOC 管理
public class DemoInterceptor implements HandlerInterceptor {
    //...
}
```

- 步骤2，注册拦截器 `@Configuration+WebMvcConfigurer` ⚠️
  由于 Interceptor 是 Spring 提供的，所以通常将其交给 IOC 容器管理。代码实现：`WebConfig.java`
```java
/**
 * 声明一个配置类，用于注册 Interceptor 拦截器
 */
@Slf4j
@Configuration  // @Configuration 也是 @Component 衍生注解，表示声明当前类是一个配置类。（即自动生成 Bean 对象，放到 Spring 容器中管理。）
public class WebConfig implements WebMvcConfigurer {
    /**
     * 向 Spring 环境注册 Interceptor 拦截器
     */
    @Override
    public void addInterceptors(InterceptorRegistry registry) {
        registry.addInterceptor(demoInterceptor)
                .addPathPatterns("/**")     // 设置需要拦截哪些资源
                .excludePathPatterns("/login");     // 设置不需要拦截的资源

    }
}
```

## 1.2、Interceptor 拦截器的路径配置

* `/*`，一级路径，如：能匹配 `/depts、/emps、/login`，不能匹配 `/depts/1` 等；

* `/**`，任意级路径，即能匹配所有路径，如：`/depts、/depts/1/2`；

* `/depts/*`，`/depts` 路径下的一级路径，即能匹配 `/depts/1`，不能匹配`/depts、/depts/1/2`；

* `/depts/**`，`/depts` 路径下的任意级路径，能匹配 `/depts、/depts/1、/depts/1/2`，不能匹配 `/emps`；



# 二、过滤器(Filter) 与 拦截器(Interceptor) 的区别 ⚠️
1、实现的接口规范不同，过滤器 Filter 需要实现 `Filter` 接口；拦截器 Interceptor需要实现 `HandlerInterceptor` 接口；
2、Filter 在 Interceptor 之前执行；
3、拦截范围不同：Filter 是 Servlet 规范提供的技术，它会拦截项目中所有的资源；Interceptor 是 Spring框架提供的，它只会拦截对 `Spring` 环境中资源的请求；